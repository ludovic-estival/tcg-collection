{% extends 'base.html' %}

{% block title %}Stats{% endblock %}

{% block navbar %}
    <div class="navbar">
        <a href="/"><i class="fa fa-fw fa-home"></i> Home</a>
        <a href="/collection/{{ id }}"><i class="fa-solid fa-box-archive"></i> Collection</a>
        <a href="/collection/{{ id }}/stats"><i class="fa-solid fa-chart-simple"></i> Statistics</a>
        {% if session['user_id'] %}
            <a href="/auth/logout" class="split"><i class="fa-solid fa-user-xmark"></i> Logout</a>
        {% else %}
            <a href="/auth/login" class="split"><i class="fa-solid fa-user-check"></i> Login</a>
            <a href="/auth/register" class="split"><i class="fa-solid fa-user-plus"></i> Register</a>
        {% endif %}
    </div>
{% endblock %}

{% block content %}
    <canvas id="myChart" width="400" height="400"></canvas>
        
    <script>
        new Chart(document.getElementById('myChart'), {
            type: 'bar',
            data: {
                labels: {{ labels | tojson }},
                datasets: [
                    {
                        label: "Number of cards:",
                        /* -- to change when rarities change --*/
                        backgroundColor: ["#012a4a", "#013a63", "#01497c", "#014f86", "#2a6f97", "#2c7da0", "#468faf", "#61a5c2", "#89c2d9", "#a9d6e5"],
                        data: {{ data | tojson }} 
                    }
                ]  
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                legend: { display: false },
                title: {
                    display: true,
                    text: 'Number of cards by rarity'
                }
            }
        });
        
    </script>
{% endblock %}