{% extends 'base.html' %}

{% block title %}Edit a card {% endblock %}

{% block content %}

  <div class="return">
    <a href="/"><i class="fa-solid fa-arrow-left"></i> Return to main page</a>
  </div>

  <h1>Edit: {{ card['name'] }}</h1>

    <div class="form-container">
      <form action="/{{ card['code'] }}/{{ card['rarity'] }}/update" method="post">
    
        <label for="code">Code</label>
        <input type="text" name="code" id="code" value="{{ card['code'] }}" disabled>
      
        <label for="name">Name</label>
        <input type="text" name="name" id="name" value="{{ request.form['name'] or card['name'] }}" required>
      
        <label for="rarity">Rarity</label>
        <input type="text" name="rarity" id="rarity" value="{{ card['rarity'] }}" disabled>
      
        <label for="price">Price</label>
        <input type="number" step="0.01" name="price" id="price" value="{{ request.form['price'] or card['price'] }}" required>

        <label for="copy">Copies</label>
        <input type="number" min="1" max="20" name="nbcopy" id="nbcopy" value="{{ request.form['nbcopy'] or card['nbcopy'] }}" required>

        <input type="submit" value="Update this card">
    
      </form>

      <form action="{{ url_for('cards.delete', code=card['code'], rarity=card['rarity']) }}" method="post">
        <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
      </form>
  </div>
{% endblock %}